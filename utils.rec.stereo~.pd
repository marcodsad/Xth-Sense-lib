#N canvas -40 86 1076 527 10;
#X obj 4 245 inlet~;
#X obj 359 102 f 0;
#X obj 394 98 + 1;
#X msg 308 362 start;
#X msg 257 363 stop;
#X obj 696 245 outlet number written;
#X text 548 110 << each bang here increment a counter and the value
of this is appended to the current file name using [makefilename] which
can substitute numerical values into a string like the C _printf_ statement
does.;
#X text 499 55 << takes the 2nd argument given in the abstraction to
write the file into the right folder;
#X text -144 167 as soon as the file is ready to be written a _start_
message is sent to [writesf~] and a bang to the [delay] which waits
for a period given by the first argument before stopping [writesf~]
>>>;
#X obj 257 426 writesf~ 2;
#X obj 55 246 inlet~;
#X obj 257 -7 inlet toggle;
#X obj 257 20 route 0 1;
#X obj 308 62 t b b;
#X floatatom 359 59 5 0 0 0 - - -;
#X msg 378 360 stop \, open -bytes 3 \$1;
#X obj 476 28 path.getdir.parent;
#X obj 431 -18 loadbang;
#X obj 431 129 mergefilename /;
#X obj 431 81 pack s s;
#X obj 431 7 t b b;
#X obj 431 55 symbol \$1;
#X msg 431 104 \$2 \$1;
#X obj 398 161 symbol;
#X obj 378 256 makefilename take-%d.wav;
#X obj 378 228 f;
#X obj 359 128 t f f b;
#X obj 378 326 mergefilename /;
#X obj 378 278 pack s s;
#X msg 378 301 \$2 \$1;
#X obj 398 190 makefilename %s;
#X text 383 423 << the argument 2 means it will record a two channels
file (stereo).;
#X connect 0 0 9 0;
#X connect 1 0 2 0;
#X connect 1 0 26 0;
#X connect 2 0 1 1;
#X connect 3 0 9 0;
#X connect 4 0 9 0;
#X connect 10 0 9 1;
#X connect 11 0 12 0;
#X connect 12 0 4 0;
#X connect 12 1 13 0;
#X connect 13 0 3 0;
#X connect 13 1 1 0;
#X connect 14 0 1 0;
#X connect 15 0 9 0;
#X connect 16 0 19 1;
#X connect 17 0 20 0;
#X connect 18 0 23 1;
#X connect 19 0 22 0;
#X connect 20 0 21 0;
#X connect 20 1 16 0;
#X connect 21 0 19 0;
#X connect 22 0 18 0;
#X connect 23 0 30 0;
#X connect 24 0 28 0;
#X connect 25 0 24 0;
#X connect 26 0 5 0;
#X connect 26 1 25 0;
#X connect 26 2 23 0;
#X connect 27 0 15 0;
#X connect 28 0 29 0;
#X connect 29 0 27 0;
#X connect 30 0 28 1;
